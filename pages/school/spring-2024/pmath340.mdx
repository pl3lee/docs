import { Definition, DefinitionName, DefinitionContent, Corollary, CorollaryName, CorollaryContent, Example, ExampleName, ExampleContent, Problem, ProblemName, ProblemContent, Proposition, PropositionName, PropositionContent, Theorem, TheoremName, TheoremContent, Lemma, LemmaName, LemmaContent, Proof, ProofName, ProofContent } from "/components/math";
import { Steps, Callout } from 'nextra/components'

# PMATH 340: Elementary Number Theory
## Lecture 1 (May 6, 2024)
### What is Number Theory
First let's define what is a number. There are several number systems
- **Positive integers**: $\mathbb Z_{> 0} = \{1, 2, 3, \ldots\}$
- **Integers**: $\mathbb Z = \{0, \pm 1, \pm 2, \ldots\}$
- **Rational Numbers**: $\mathbb Q = \left\{ \frac{a}{b} : a, b \in \mathbb Z, b \neq 0 \right\}$
- **Real and Complex Numbers**: $\mathbb R$ and $\mathbb C$
- **Gaussian integers**: $\mathbb Z[i] = \{a + bi : a, b \in \mathbb Z\}$

The Gaussian integers are a subset of the complex numbers where both real and imaginary parts are integers. Geometrically, we can think of it as a lattice in the complex plane.

### Diophantine Equation
A Diophantine equation is a polynomial equation where the solutions are required to be integers. 
<Example>
    <ExampleContent>
      1. $2x = 5$ is a diophantine equation. There are solutions in $\mathbb R$ and $\mathbb Q$, however there are no solutions in $\mathbb Z$ since 2 does not **divide** 5.
      2. $x^2 + y^2 = z^2$. The solutions $(x, y, z) \in \mathbb Z^3$ are called Pythagorean triples. For example, $(3, 4, 5), (5, 12, 13)$ are Pythagorean triples. In addition, we can get the solution $(6, 8, 10)$ by multiplying $(3, 4, 5)$ by 2.

          So, once we have one solution, we have infinite solutions by scaling by a constant $c$. Note that solutions $x, y, z$ that have no common factors are called **primitive** pythagorean triples. Here is a question: Are there infinitely many primitive pythagorean triples? The answer is yes, and we will prove it later.

      3. $x^n + y^n = z^n$ for $n \geq 3$. This is Fermat's Last Theorem. Are there any solutions in $\mathbb Z_{>0}$? It turns out the answer is no.
      4. $x^2 - ny^2 = 1$ for $n$ not perfect square. This is Pell's equation. Let's suppose that $n = 2$. Then $x^2 - 2y^2 = 1$. Rearranging gives
          $$
          2 = \left(\frac{x}{y}\right)^2 - \frac{1}{y}
          $$
          Now for large $y$, we have $\frac{1}{y} \approx 0$, so $2 \approx \left(\frac{x}{y}\right)^2$. This means that $\frac{x}{y} \approx \sqrt{2}$.

          Here is a fact: for $n = 2$, if $(x, y) = (a, b)$ is a solution, then $(x, y) = (3a + 4b, 2a + 3b)$ is also a solution. We can see that $(3, 2)$ is a solution, and after applying the transformation iteratively, we get $(22619537, 1599428)$, which is a very close approximation to $\sqrt{2}$ when we do $\frac{x}{y}$.
    </ExampleContent>
</Example>

### How do we solve Diophantine Equations?
In general, the lower the power, and the lesser variables, the easier it is to solve. So, $x^2 + x = 1$ is easier to solve than $x^2 - 2y^2 = 1$, which is easier to solve than $x^3 + y^3 = z^3$. The equation $x^2 + x = 1$ is called a **univariate diophantine equation**.

It turns out that if $f(x) = 0$ is a univariate diophantine equation, then we have an algorithm for solving it.
<Definition withName={true}>
<DefinitionName>Divides</DefinitionName>
<DefinitionContent>
If $a, b \in \Z$, we say $a$ **divides** $b$ if there exists $c \in \Z$ such that $b = ac$. We write $a \mid b$.

If $a$ does not divide $b$, then we write $a \nmid b$.
</DefinitionContent>
</Definition>
<Proposition withName={true}>
<PropositionName>Solution to Univariate Diophantine Equations</PropositionName>
<PropositionContent>
If the equation $a_0 + a_1 x + a_2 x^2 + \cdots + a_n x^n = 0$ has a solution $x = s \in \Z$, then $s \mid a_0$.
</PropositionContent>
</Proposition>
We will give a proof of this theorem later. But as an example, if we have a equation $x^2 + x - 1 = 0$, then we just need to check the divisors of $-1$ to find the solutions.

## Lecture 2 (May 8, 2024)
Recall our proposition from last time:
<Proposition withName={true}>
<PropositionName>Solution to Univariate Diophantine Equations</PropositionName>
<PropositionContent>
If the equation $a_0 + a_1 x + a_2 x^2 + \cdots + a_n x^n = 0$ has a solution $x = s \in \Z$, then $s \mid a_0$.
</PropositionContent>
</Proposition>
Let's give a proof of this proposition.
<Proof>
<ProofContent>
We have $a_0 + a_1x + \cdots + a_nx^n = 0$. Suppose that $s$ is a solution, so we can plug in $x = s$ and earranging it gives
$$
a_0 = s(-a_1 - a_2s - \cdots - a_ns^{n-1})
$$
Note that $-a_1 - a_2s - \cdots - a_ns^{n-1}$ is an integer, so by definition of divisibility, $s \mid a_0$.
</ProofContent>
</Proof>
So, in order to solve $a_0 + a_1 x + a_2 x^2 + \cdots + a_n x^n = 0$, we can simply determine all divisors of $a_0$, then plug in to the equation to find which are roots.

In general, when we encounter an equation, we ask ourselves 3 questions:
1. Are there any solutions?
2. If there are, how many are there?
3. Can we find all of them?

Unfortunately, determining all divisors is hard since factoring is hard. Moreover, even if we can determine all factors, we might have to check a lot of divisors to see if they are roots. Thus, we need a better algorithm.
### Better Algorithm to Solve Univariate Diophantine Equations
We will illustrate this with an example. Suppose we have the equation
$$
x^2 + x - 2^{1000} = 0
$$
We can rearrange this to get
$$
x(x+1) = 2^{1000}
$$
So we have $x \mid 2^{1000}$ and $x+1 \mid 2^{1000}$. Since $x$ and $x + 1$ are consecutive integers, one of them must be odd. The only odd integer that divides $2^{1000}$ is $\pm 1$. So, there are several cases to consider:
- Suppose $x = 1$, then $x + 1 = 2$. But $x(x + 1) = 2 \neq 2^{1000}$. So $x = 1$ is not a solution.
- Suppose $x = -1$, then $x + 1 = 0$. But $x(x + 1) = 0 \neq 2^{1000}$. So $x = -1$ is not a solution.
- Suppose $x + 1 = 1$, then $x = 0$. But $x(x + 1) = 0 \neq 2^{1000}$. So $x = 0$ is not a solution.
- Suppose $x + 1 = -1$, then $x = -2$. But $x(x + 1) = 2 \neq 2^{1000}$. So $x = -2$ is not a solution.

This is a contradiction, so there are no solutions to the equation $x^2 + x - 2^{1000} = 0$.

### Divisibility
Let's first give some basic properties of divisibility.
<Proposition withName={true}>
<PropositionName>Basic Properties of Divisibility</PropositionName>
<PropositionContent>
Let $a, b, c \in \Z$.
1. If $a \mid b$ and $b \mid c$, then $a \mid c$.
2. If $a \mid b$ and $a \mid c$, then $a \mid xb + yc$ for all $x, y \in \Z$.
3. If $a \mid b$ and if $b \neq 0$, then $|a| \leq |b|$.
</PropositionContent>
</Proposition>
The third property above also implies that if $|a| > |b|$, and $a | b$, then $b = 0$. Let's give a proof of properties 2 and 3.
<Proof withName={true}>
<ProofName>Property 2</ProofName>
<ProofContent>
We have $a \mid b$ and $a \mid c$. This implies that $b = na$ and $c = ma$ for some $n, m \in \Z$. So, we have
$$
\begin{align*}
    xb + yc &= x(na) + y(ma) \\
    &= (xn + ym) a
\end{align*}
$$
So $a \mid xb + yc$.
</ProofContent>
</Proof>
<Proof withName={true}>
<ProofName>Property 3</ProofName>
<ProofContent>
If $a \mid b$, then $b = na$ for some $n \in \Z$. Then
$$
\begin{align*}
    |b| &= |na| \\
    &= |n||a| 
\end{align*}
$$
There are 2 cases to consider:
1. If $n = 0$, then $b = 0$, but we assumed that $b \neq 0$, so $n \neq 0$.
2. If $n \neq 0$, then $|n| \geq 1$. Thus $|b| = |n||a| \geq |a|$.
</ProofContent>
</Proof>
And we can give more properties of divisibility, without giving a proof.
<Proposition withName={true}>
<PropositionName>More Properties of Divisibility</PropositionName>
<PropositionContent>
Let $a, b \in \Z$.
1. $1 \mid a$ for all $a \in \Z$.
2. $a \mid 0$ for all $a \in \Z$.
3. $0 \mid a$ if and only if $a = 0$.
4. If $a \mid b$ and $b \mid a$, then $a = \pm b$.
</PropositionContent>
</Proposition>

### Remainder Theorem
Now we get to the key result of this lecture.
<Theorem withName={true}>
<TheoremName>Remainder Theorem (or Division Algorithm)</TheoremName>
<TheoremContent>
Let $a, b \in \Z_{> 0}$ with $b \neq 0$. Then there exists unique integers $q, r \in \Z$ such that
$$
a = qb + r, \quad 0 \leq r < b
$$
where $q$ is called the quotient and $r$ is called the remainder.

This theorem also implies that $b \mid a$ if and only if $r = 0$.
</TheoremContent>
</Theorem>
Before we give the proof, we first define the floor function.
<Definition withName={true}>
<DefinitionName>Floor Function</DefinitionName>
<DefinitionContent>
Given $x \in \mathbb R$, define $\lfloor x \rfloor$ to be the largest integer $\leq x$.
</DefinitionContent>
</Definition>
<Callout type="info" emoji="ℹ️">
  For negative numbers, we have $\lfloor -2.71 \rfloor = -3$, since $-3$ is the largest integer less than or equal to $-2.71$. 
</Callout>
<Callout type="info" emoji="ℹ️">
  Observe that 
  $$
  x - 1 < \lfloor x \rfloor \leq x
  $$

</Callout>
Now we can give our proof of the Remainder Theorem.
<Proof withName={true}>
<ProofName>Remainder Theorem</ProofName>
<ProofContent>
We let $q = \lfloor \frac{a}{b} \rfloor$ and $r = a - bq$. Then $qb + r = b\lfloor \frac{a}{b} \rfloor + a - b\lfloor \frac{a}{b} \rfloor = a$. So we need to show that $0 \leq r < b$. Observe that
$$
\begin{align*}
    \frac{a}{b} - 1 &< q \leq \frac{a}{b} \\
    a - b &< qb \leq a \\
    -b &< qb - a \leq 0 \\
    b &> a - qb \geq 0
\end{align*}
$$
So we have proved existence. Now we need to show uniqueness. For contradiction suppose that there exists $q, r, q', r'$ such that
$$
a = qb + r, \quad 0 \leq r < b
$$
and
$$
a = q'b + r', \quad 0 \leq r' < b
$$
So we have
$$
\begin{align*}
    qb + r &= q'b + r' \\
    (q - q') b &= r' - r 
\end{align*}
$$
Since $q - q'$ is an integer, we have that $b \mid r' - r$. But, we also have
$$
-b \leq r' - r \leq b
$$
Thus by property of divisibility, we have $r' - r = 0$, so $r = r'$. Then $(q - q')b = 0$, so $q = q'$.
</ProofContent>
</Proof>
So for example, if we have $a = 100, b = 14$. We can write
$$
a = 7b + 2
$$
so $q = 7, r = 2$. However, note that there are many other $q, r$ such that $100 = 14q + r$. For example, we can also write
$$
100 = 14 \cdot 2 + 72
$$
but $72$ is not a remainder since we need $0 < r \leq b$.

Now, from the Remainder Theorem, we can **classify** integers into remainders by $b$.
1. Suppose that $b = 2$. Then for all $a \in \Z$, we can write $a = 2q + r$ with $0 \leq r < 2$. So $r = 0$ or $r = 1$.
2. Suppose that $b = 10$. Then for all $a \in \Z$, we can write $a = 10q + r$ with $0 \leq r < 10$. So $r = 0, 1, 2, \ldots, 9$.

<Problem>
<ProblemContent>
Show that $x^2 + y^2 = 3$ has no solutions in $\Z$.

An intuitive way to look at this is that $x^2 + y^2 \geq 0$, and consider possible values of $x, y$. Since we need RHS to be $3$, if we have either $x = 2$ or $y = 2$, then we have $x^2 + y^2 \geq 4$. So we only need to consider $x, y \in \{0,1\}$. We do not need to consider negatives since squaring them will make them positive.

For both $x = 0, 1$, $y$ has no solutions. Also for both $y = 0, 1$, $x$ has no solutions. So there are no solutions in $\Z$.

However, we can think about this problem in a different way. We can consider the remainders of $x^2$ and $y^2$ when divided by $b = 4$.
</ProblemContent>
</Problem>

## Lecture 3 (May 10, 2024)
### Problem from Last Time
Recall our program from last time, which is to show that $x^2 + y^2 = 3$ has no solutions in $\mathbb Z$. There are 2 solutions to this.

#### Solution 1
Since $x, y \in \mathbb Z$, we have
$$
\begin{align*}
    x^2 &\leq x^2 + y^2 \\
    x^2 &\leq 3 \\
    |x| &\leq \sqrt 3 \approx 1.7
\end{align*}
$$
Thus, if $x \in \mathbb Z$ then we must have $x = 0, \pm 1$. By symmetry, we also have $y = 0, \pm 1$. If we try all possible solutions, there are no solutions.

#### Solution 2
We use the Remainder Theorem. We have the following observations.

**Observation 1**: If $x \in \mathbb Z$ then possible remainders of $x^2$ by $4$ are $0$ and $1$.

<Proof withName={true}>
    <ProofName>Observation 1</ProofName>
    <ProofContent>
        For an integer $x$, we can write it as $4q + r$ for $r = 0, 1, 2, 3$. So
        - If $x = 4q + 0$, then $x^2 = 16q^2 = 4(4q^2) + 0$.
        - If $x = 4q + 1$, then $x^2 = 16q^2 + 8q + 1 = 4(4q^2 + 2q) + 1$.
        - If $x = 4q + 2$, then $x^2 = 16q^2 + 16q + 4 = 4(4q^2 + 4q + 1) + 0$.
        - If $x = 4q + 3$, then $x^2 = 16q^2 + 24q + 9 = 4(4q^2 + 6q + 2) + 1$.
        
        In particular, the above remainders are unique by Remainder Theorem. Thus, all possible remainders of $x^2$ by $4$ are $0$ and $1$.
    </ProofContent>
</Proof>
Similarly, possible remainders of $y^2$ by $4$ are $0$ and $1$ as well.

This brings us to our second observation.

**Observation 2**: The possible remainders of $x^2 + y^2$ by 4 are $0, 1, 2$.
<Proof withName={true}>
    <ProofName>Observation 2</ProofName>
    <ProofContent>
        By observation 1, the remainders of $x^2$ and $y^2$ are $0, 1$. So for $x^2 + y^2$, we can add them together to get that the remainders are $0, 1, 2$.
    </ProofContent>
</Proof>

Thus, using observation 2, we can see that $x^2 + y^2$ has remainder $0, 1, 2$, but 3 by 4 has remainder 3. Thus, there are no solutions in $\Z$.

### Euclidean Algorithm
Our main goal is to prove that for every integer, there is a unique factorization into primes.

The factorization part is easy to prove: for an integer, if it is prime, then we are done. If it is not prime, then there are factors and thus can be factored. If the factors are prime, then we are done, otherwise, we use the same argument and continue to factor them. Eventually, we will reach a prime factorization.

The tricky part is the uniqueness. We will need a tool for this, which is the Euclidean Algorithm. But first let's give some definitions.
<Definition>
    <DefinitionName>Divisor and Greatest Common Divisor</DefinitionName>
    <DefinitionContent>
        Let $a, b \in \Z$, not both 0. A common divisor of $a, b$ is $d \in \Z$ such that $d \mid a$ and $d \mid b$.

        The greatest common divisor of $a, b$ is the largest common divisor of $a, b$.

        We define $\gcd(0,0) = 0$.
    </DefinitionContent>
</Definition>
<Proposition withName={true}>
    <PropositionName>Easy Properties of GCD</PropositionName>
    <PropositionContent>
        1. $\gcd(a,b) = \gcd(b, a)$
        2. $\gcd(a, b) = \gcd(|a|, |b|)$
        3. $\gcd(a, 0) = \gcd(0, a) = |a|$
        4. $\gcd(a,a) = |a|$
    </PropositionContent>
</Proposition>
Now, how do we compute $\gcd(a,b)$? We use the Euclidean Algorithm. This is best illustrated using an example. Given $a, b \in \Z$, we can assume that $a > b > 0$ using the properties from above.
<Example withName={true}>
    <ExampleName>Euclidean Algorithm: $\gcd(693, 105)$</ExampleName>
    <ExampleContent>
        We first divide $693 = 6 \cdot 105 + 63$. Now, observe that for $d \in \Z$, if $d \mid 105$ and $d \mid 63$, then $d \mid 693$.

        We can also rearrange to get the equation $693 - 6 \cdot 105 = 63$. By the same logic, if $d \mid 693$ and $d \mid 105$, then $d \mid 63$.

        Combining the above 2 statements, 693 and 105 share common divisors as 63 and 105. Thus, they share common divisors and thus share the greatest common divisor. So we must have
        $$
        \gcd(693, 105) = \gcd(105, 63)
        $$
        Then we can repeat the above step. We write $105 = 1 \cdot 63 + 42$, and we have
        $$
        \gcd(105, 63) = \gcd(63, 42)
        $$
        Repeat again, we write $63 = 1 \cdot 42 + 21$, and we have
        $$
        \gcd(63, 42) = \gcd(42, 21)
        $$
        Now, $21 \mid 42$, so we write $42 = 2 \cdot 21 + 0$, so
        $$
        \gcd(42, 21) = \gcd(21, 0) = 21
        $$
    </ExampleContent>
</Example> 
Let's do another example.
<Example withName={true}>
    <ExampleName>Euclidean Algorithm: $\gcd(124, -608)$</ExampleName>
    <ExampleContent>
        First note that
        $$
        \gcd(124, -608) = \gcd(608, 124)
        $$
        Then we can write the following series of equations.
        $$
        \begin{align*}
            608 &= 4 \cdot 124 + 112 \\
            124 &= 1 \cdot 112 + 12 \\
            112 &= 9 \cdot 12 + 4 \\
            12 &= 3 \cdot 4 + 0
        \end{align*}
        $$
        And thus
        $$
        \begin{align*}
            \gcd(608, 124) &= \gcd(124, 112) \\
            &= \gcd(112, 12) \\
            &= \gcd(12, 4) \\
            &= \gcd(4, 0) \\
            &= 4
        \end{align*}
        $$
    </ExampleContent>
</Example>
From the Euclidean Algorithm, we have the following lemma.
<Lemma>
    <LemmaContent>
        $\gcd(a, b) = \gcd(a - qb, b)$
    </LemmaContent>
</Lemma>
<Proof>
    <ProofContent>
        First, we divide $a$ by $b$ to get
        $$
        a = qb + r
        $$
        For a common divisor $d$, if $d \mid b$ and $d | r$, then $d | a$. Rearranging, we have
        $$
        a - qb = r
        $$
        If $d \mid a$ and $d \mid b$, then $d \mid r$. So $a, b$ and $a - qb, b$ share common divisors, and thus share the greatest common divisor. That is,
        $$
        \gcd(a, b) = \gcd(a - qb, b)
        $$ 
    </ProofContent>
</Proof>
How do we know that the Euclidean Algorithm terminates? Observe that the remainder is always smaller than the divisor. So at each step, we replace the larger number by the remainder, and thus we are reducing the complexity of the problem at each step. Eventually, this terminates when we hit 0, which is the base case.

Note that we can reverse the steps and recover $x, y$ such that $\gcd(a, b) = ax + by$. Using the last example, if we rearrange the equations to isolate the remainders, we get
$$
\begin{align*}
    112 &= 608 - 4 \cdot 124 \\
    12 &= 124 - 1 \cdot 112 \\
    4 &= 112 - 9 \cdot 12 
\end{align*}
$$
Thus, starting from the bottom, we can substitute the remainders into the equation above to get
$$
\begin{align*}
    4 &= 112 - 9 \cdot 12 \\
    &= 112 - 9 (124 - 112) \\
    &= 112 - 9 \cdot 124 + 9 \cdot 112 \\
    &= 112(1 + 9) - 9 \cdot 124 \\
    &= 10 \cdot 112 - 9 \cdot 124 \\
    &= 10 (608 - 4 \cdot 124) - 9 \cdot 124 \\
    &= 10 \cdot 608 - 40 \cdot 124 - 9 \cdot 124 \\
    &= 10 \cdot 608 - 124(40 + 9) \\
    &= 10 \cdot 608 - 49 \cdot 124 
\end{align*}
$$
This is Bezout's Lemma.
<Lemma withName={true}>
    <LemmaName>Bezout's Lemma</LemmaName>
    <LemmaContent>
        We can always write $\gcd(a, b) = ax + by$ for some $x, y \in \Z$. However, $x, y$ is not unique.
    </LemmaContent>
</Lemma>

## Lecture 4 (May 13, 2024)
### Bezout's Lemma
Let's have some warm up. Determine $\gcd(6, 22)$. We can write the following sequence of equations.
$$
\begin{align*}
    22 &= 3 \cdot 6 + 4 \\
    6 &= 1 \cdot 4 + 2 \\
    4 &= 2 \cdot 2 + 0
\end{align*}
$$
which corresponds to 
$$
\begin{align*}
    \gcd(22, 6) &= \gcd(6, 4) \\
    &= \gcd(4, 2) \\
    &= \gcd(2, 0) \\
    &= 2
\end{align*}
$$
Reversing the algorithm, to express 2 as a linear combination of 6 and 22, we have
$$
\begin{align*}
    2 &= 6 - 1 \cdot 4 \\
    &= 6 - 1 \cdot (22 - 3 \cdot 6) \\
    &= 4 \cdot 6 - 1 \cdot 22
\end{align*}
$$

Now, recall Bezout's Lemma.
<Lemma withName={true}>
    <LemmaName>Bezout's Lemma</LemmaName>
    <LemmaContent>
        If $a, b \in \Z$, then there exists $x, y \in \Z$ (not unique) such that $\gcd(a, b) = ax + by$
    </LemmaContent>
</Lemma>
Before we proceed with the proof, we will need the Well-ordering Principle.
<Definition>
    <DefinitionName>Well-Ordering Principle</DefinitionName>
    <DefinitionContent>
        Every non-empty subset of the positive integers has a smallest element.

        Note that this is not true for the set of negative integers, nor the set of real integers.
    </DefinitionContent>
</Definition>

Now, let's prove Bezout's Lemma.
<Proof withName={true}>
    <ProofName>Bezout's Lemma</ProofName>
    <ProofContent>
        W.L.O.G, assume $a > 0$, since if $a = 0$, then $\gcd(a, b) = |b|$, which is itself a linear combination of $a$ and $b$. If $a < 0$, then $\gcd(a, b) = \gcd(-a, b)$. So we only need to account for $a > 0$.

        Now, let $S = \{ax + by: x, y \in \Z \}$. It turns out that the smallest positive $ax + by$ is the greatest common divisor of $a$ and $b$.

        Note that $S \cap \Z_{> 0} \neq \emptyset$, since $a = a + 0b > 0$ by assumption, and thus $a \in S \cap \Z_{> 0}$. Thus, by the Well-Ordering Principle, $S \cap \Z_{> 0}$ has a smallest element, say $d = ax_0 + by_0$. We will show that $d = \gcd(a, b)$.

        We claim that $d \mid a$ and $d \mid b$. Applying the remainder theorem, we have
        $$
        a = qd + r, \quad 0 \leq r < d
        $$
        and we will show that $r = 0$. For contradiction, suppose that $r > 0$. Then
        $$
        \begin{align*}
            r &= a - qd \\
            &= a - q(ax_0 + by_0) \\
            &= a - qax_0 - qby_0 \\
            &= a(1 - qx_0) + b(-qy_0) \\
            &\in S \cap \Z_{> 0}
        \end{align*}
        $$
        Since $r < d$ by construction, this is a contradiction by minimality of $d$ (we established that $d$ is the smallest element in $S \cap \Z_{> 0}$). Thus, $r = 0$, and thus $d \mid a$. Similarly, we can show that $d \mid b$.

        Now, we show that $d$ is the **greatest** common divisor. Suppose $d'$ is another divisor, then $d' | a$ and $d' | b$. So, $d' | ax_0 + by_0 = d$. Therefore, $d' \leq d$. Thus, $d$ is the greatest common divisor.
    </ProofContent>
</Proof>

From this proof, we have this corollary:
<Corollary>
    <CorollaryContent>
        If $c \mid a$ and $c \mid b$, then $c \mid \gcd(a, b)$.
    </CorollaryContent>
</Corollary>

### Coprimality
<Definition>
    <DefinitionName>Coprime</DefinitionName>
    <DefinitionContent>
        $a, b \in \Z$ are coprime if $\gcd(a, b) = 1$.
    </DefinitionContent>
</Definition>
An example is that 4 and 15 are coprime, but 4 and 10 are not coprime.

<Proposition>
    <PropositionContent>
        1. $a, b \in \Z$ are coprime iff there exists $x, y \in \Z$ such that $ax + by = 1$.
        2. If $a \mid bc$ and $a, b$ are coprime, then $a \mid c$.
        3. If $b \mid a$ and $c \mid a$ and if $b, c$ are coprime, then $bc \mid a$.
    </PropositionContent>
</Proposition>
<Proof>
    <ProofContent>
        1. $(\Rightarrow)$ This follows from Bezout's Lemma. 

           $(\Leftarrow)$ Suppose that $d$ is a common divisor of $a$ and $b$. Then $d \mid ax + by = 1$, so $d = 1$.
        2. If $a$ and $b$ are coprime, then by Bezout's Lemma, we have
            
            $$
            1 = \gcd(a, b) = ax + by
            $$
            Multiplying by $c$ gives
            $$
            c = cx a + bc y
            $$
            In particular, $a \mid cx a$ and $a \mid bc y$ since $a \mid a$ and $a \mid bc$ by assumption. Thus, $a \mid c$.
        3. Exercise. Try to give 2 proofs, 1 with Bezout's Lemma and 1 without.
    </ProofContent>
</Proof>
<Proposition>
    <PropositionContent>
        Let $a, b \in \Z_{> 0}$, and $g = \gcd(a, b)$. Then $\frac{a}{g}$ and $\frac{b}{g}$ are coprime.
    </PropositionContent>
</Proposition>
<Proof>
    <ProofContent>
        By Bezout's Lemma, $g = ax + by$ for some $x, y \in \Z$. Then dividing both sides by $g$ gives
        $$
        1 = \frac{a}{g} x + \frac{b}{g} y
        $$
        By proposition above, $\frac{a}{g}$ and $\frac{b}{g}$ are coprime.
    </ProofContent>
</Proof>

Now, we are ready to tackle to problem of solving
$$
a_1x_1 + \cdots + a_nx_n = c
$$
over $\Z$. However, the most important case is for $n = 2$, since if we have $n > 2$, we can reduce it to $n = 2$ by induction. So we will focus on solving
$$
ax + by = c
$$
which are called **linear Diophantine equations**.
<Theorem>
    <TheoremContent>
        1. The equation $ax + by = c$ has a solution if and only if $\gcd(a, b) \mid c$.
        2. If $x_0, y_0$ is a solution, then all solutions are given by
            $$
            (x, y) = (x_0, y_0) + n \left(\frac{-b}{\gcd(a, b)}, \frac{a}{\gcd(a, b)}\right)
            $$
            So if there exists a solution, there exists infinitely many solutions.
    </TheoremContent>
</Theorem>
## Lecture 5 (May 15, 2024)
Let's prove the theorem from last time.
<Proof>
    <ProofContent>
        We will prove the first part of the theorem.

        $(\Rightarrow)$ If $(x_0, y_0) is a solution, then we have $c = ax_0 + by_0$. Since $g = \gcd(a, b) \mid a$ and $g \mid b$. Then
        $$
        g \mid ax_0 + by_0 = c
        $$
        $(\Leftarrow)$ If $g \mid c$, then $c = kg$ for some $k$. By Bezout's Lemma, we have $g = an + bm$, so we have
        $$
        \begin{align*}
            c &= kg \\
            &= k(an + bm) \\
            &= (kn)a + (km)b
        \end{align*}
        $$
        So, $(kn, km)$ is a solution to $ax + by = c$.
    </ProofContent>
</Proof>
Thus from our proof, we know how to get a solution to the equation. $(kn, km)$ is a solution where $k = \frac{c}{g}$, and $n, m$ are the coefficients from Bezout's Lemma, which can be obtained by the Euclidean Algorithm. This suggests the following algorithm for solving a linear Diophantine equation $ax + by = c$.

1. Compute $g = \gcd(a, b)$ using Euclidean Algorithm.
2. Check if $g \mid c$. If not, then it has no solution.
3. If $g \mid c$, then reverse the Euclidean Algorithm to find $n, m$ such that $g = na + mb$.
4. Multiply $g = na + mb$ by $\frac{c}{g}$ to get $c = \left(n \frac{c}{g}\right)a + \left(m \frac{c}{g}\right)b$.

Let's see a couple of examples.
<Example>
    <ExampleContent>
        Solve $6x + 22y = 10$. We first find $\gcd(6, 22)$. By inspection, $g = \gcd(6, 22) = 2$ and we have $2 \mid 10$, so there is a solution. We can find $n, m$ such that $2 = 6n + 22m$. By inspection, we have $n = 4, m = -1$, so we can multiply the equation by $5 = \frac{10}{2}$ to get
        $$
        10 = 6(20) + 22(-5)
        $$
        The general solution is
        $$
        (x, y) = (20, -5) + n(-11, 3)
        $$
        From this example, note that we can rearrange the equation $6x + 22y = 10$ and isolate $y$ to get $y = \frac{-6}{22}x + \frac{10}{22}$. This is the equation of a line. Geometrically, we have a line that passes through lattice points in the plane. Lattice points that are on the line are solutions to the equation.
    </ExampleContent>
</Example>
<Example withName={true}>
    <ExampleName>Frobenius Coin Problem/Chicken Nugget Problem</ExampleName>
    <ExampleContent>
        You can buy 5 cent or 7 cent stamps. Show that you cannot mail a 23 cent letter.

        We want to solve $5x + 7y = 23$, but we want to solve this over $\mathbb Z_{\geq 0}$. Let's first solve this over $\mathbb Z$ and obtain a general solution. By inspection, we have $g = \gcd(5, 7) = 1$ and by Bezout's Lemma, we get
        $$
        \begin{align*}
            1 &= 5(3) + 7(-2) \\
            23 &= 5(69) + 7(-46)
        \end{align*}
        $$
        Thus a general solution is
        $$
        (x, y) = (69, -46) + n(-7, 5)
        $$
        We want
        - $x \geq 0 \iff 69 - 7n \geq 0 \iff n \leq \frac{69}{7} \approx 9.9$
        - $y \geq 0 \iff -46 + 5n \geq 0 \iff n \geq \frac{46}{5} \approx 9.2$

        There is no $n \in \Z$ with $92 \leq n \leq 9.9$. So there are no solutions with $x \geq 0, y \geq 0$.
    </ExampleContent>
</Example>
It turns out that for the example above, for $c > 23$, $5x + 7y = c$ can always be solved in $\Z_{\geq 0}$.

### Primes
<Definition>
    <DefinitionName>Prime</DefinitionName>
    <DefinitionContent>
        An integer $p \in \Z$ is said to be prime if $p > 1$ and the only positive divisors are $1$ and $p$.

        If $n$ is not prime, then it is composite.
    </DefinitionContent>
</Definition>
Note that we are not including 1 as a prime number. This is because if we include 1, then we can write
$$
1 = 1 \cdot 1 = 1 \cdot 1 \cdot 1 = \cdots
$$
which breaks unique factorization, which is the following theorem.
<Theorem withName={true}>
    <TheoremName>Fundamental Theorem of Arithmetic</TheoremName>
    <TheoremContent>
        If $n > 1$, then $n$ can be written as a product of primes in a unique way (up to ordering).
    </TheoremContent>
</Theorem>
Before we proceed with the proof, we need the following lemma:
<Lemma withName={true}>
    <LemmaName>Euclid's Lemma</LemmaName>
    <LemmaContent>
        If $p$ is prime, and $p \mid ab$, then $p \mid a$ or $p \mid b$.
    </LemmaContent>
</Lemma>
In fact, this can be considered as the definition of a prime number, i.e. for any integer $p \mid ab$, if $p \mid a$ or $p \mid b$, then $p$ is prime.
<Proof withName={true}>
    <ProofName>Euclid's Lemma</ProofName>
    <ProofContent>
        Assume $p \mid ab$ and $p \nmid a$. Then $p \mid b$ by result of proposition from Lecture 4 (If $a \mid bc$ and $a, b$ are coprime, then $a \mid c$).

        Similarly, if $p \nmid b$, then $p \mid a$.
    </ProofContent>
</Proof>
Now, we can prove the Fundamental Theorem of Arithmetic.
<Proof withName={true}>
    <ProofName>Fundamental Theorem of Arithmetic</ProofName>
    <ProofContent>
        **Existence**. Assume otherwise, then there exists a smallest $n_0$ such that the theorem is false (i.e. there is no factorization of primes). Note that $n_0$ is not prime, since if it is prime, then $n_0$ itself is a factorization of primes. Since $n_0$ is not prime, it is composite and thus can be factored into $n_0 = ab$, where $1 < a, b < n_0$.

        Since $n_0$ is the smallest such integer, we have that $a$ and $b$ are product of primes. Thus, $ab$ is a product of primes, which is a contradiction.

        **Uniqueness**. Suppose $n = p_1\ldots p_r = q_1 \ldots q_s$. Then
        $$
        \begin{align*}
            p_1 \mid n &\implies p_1 \mid q_1 \ldots q_s \\
            &\implies p_1 \mid q_i \text{ for some } i \\
            &\implies p_1 = q_i
        \end{align*}
        $$
        Note that the last implication is true since $p_1$ and $q_i$ are prime (and thus the only divisor of $q_i$ is $q_i$ itself or 1, which is not prime). Thus, we can cancel $p_1$ and $q_i$ from both sides and repeat the argument.

        So, every $p_i$ occurs among $q_j$ and vice versa. So $r = s$ and $p_i = q_i$ after re-ordering.
    </ProofContent>
</Proof>

## Lecture 6 (May 17, 2024)
Recall from last time that we had the Fundamental Theorem of Arithmetic, which states that every integer greater than 1 can be written as a product of primes in a unique way (up to ordering). 

By convention, given $n > 1$, if we write it as $n = p_1^{a_1} \cdots p_k^{a_k}$ where $p_1 < p_2 < \cdots < p_k$ are primes and $a_i > 0$, then we say that this is the **canonical factorization**.

<Callout type="info" emoji="ℹ️">
  If $n < -1$ then $-n > 1$ and so $-n$ has a factorization. This implies that $n  = (-1) (-n) = (-1) (p_1^{a_1}\cdots p_k^{a_k})$.

  1 has the empty factorization where $a_i = 0$ for all $i$.
</Callout>

### $p$-adic Valuation
<Definition>
    <DefinitionName>$p$-adic Valuation</DefinitionName>
    <DefinitionContent>
        If we take $n \neq 0$, the $p$-adic valuation of $n$ is $v_p(n)$, which is the largest power of $p$ that occurs in the canonical factorization of $n$.

        i.e. $p^a \mid n$ and $p^{a+1} \nmid n$.

        By convention, we define $v_p(0) = -\infty$.
    </DefinitionContent>
</Definition>
For example, $n = 18 = 2 \cdot 3^2$. Then $v_2(n) = 1$, and $v_3(n) = 2$, and $v_p(n) = 0$ for all $p \neq 2, 3$. Note that $v_p(n) = 0$ if and only if $p \nmid n$.

Thus, we can say that $v_p(1) = 0$ for all $p$.

Here is another example. Let's find $v_2(10!)$. We have
$$
\begin{align*}
    10! &= (1)\underbrace{(2)}_{2^1} (3) \underbrace{(4)}_{2^2} (5) \underbrace{(6)}_{2 \cdot 3} (7) \underbrace{(8)}_{2^3} (9) \underbrace{(10)}_{2 \cdot 5}
\end{align*}
$$
Then $v_2(10!)$ is the number of terms containing a factor of 2, plus the number of terms containing a factor of $2^2$, plus the number of terms containing a factor of $2^3$. Thus, $v_2(10!) = 5 + 2 + 1 = 8$. Alternatively, we can write
$$
v_2(10!) = \lfloor \frac{10}{2}\rfloor + \lfloor \frac{10}{4}\rfloor + \lfloor \frac{10}{8}\rfloor = 8
$$
Note that in general for $n!$, we have
<Lemma withName={true}>
    <LemmaName>Legendre's Formula</LemmaName>
    <LemmaContent>
        $v_p(n!) = \left\lfloor \frac{n}{p} \right\rfloor + \left\lfloor \frac{n}{p^2} \right\rfloor + \left\lfloor \frac{n}{p^3} \right\rfloor + \cdots$

        This looke like an infinte sum, but actually as $p^k > n$, we get
        $$
        \lfloor \frac{n}{p^k} \rfloor = 0
        $$
    </LemmaContent>
</Lemma>
We also have the following results, which could be nice exercises.
- $v_p(ab) = v_p(a) + v_p(b)$
- $v_p(a^k) = kv_p(a)$
- $v_p(1) = 0$

### Distribution of Primes
<Theorem>
    <TheoremContent>
        There are infinitely many primes.
    </TheoremContent>
</Theorem>
This theorem has many different proofs. One of the most famous proofs is due to Euclid. We will introduce another proof later.
<Proof withName={true}>
    <ProofName>Euclid's Version</ProofName>
    <ProofContent>
        Suppose that there is finitely many primes, say $p_1, \ldots, p_k$. If we multiply them together and add 1, we get
        $$
        n = p_1 \cdots p_k + 1
        $$
        Note that if we divide $n$ by and $p_i$, we have remainder 1 since $p_i \mid p_1 \cdots p_k$ but $p_i \nmid 1$. 

        By Fundamental Theorem of Arithmetic, $n$ has a prime divisor, but $p_1,\ldots, p_k$ are all primes that do not divide $n$. Thus, this is a contradiction.
    </ProofContent>
</Proof>
We have the following comments for the proof above.
1. A common misconception is that $p_1p_2\ldots p_k + 1$ is prime. This is false. An exercise is to find the first $k$ such that $p_1p_2\ldots p_{k} + 1$ is not prime.
2. An open problem is: Are there infinitely many primes of the form $p_1\ldots p_k + 1$?
3. Euclid's proof shows that $p_{k + 1} \leq p_1\ldots p_k + 1$. By induction, we can show that $p_n \leq 2^{2^{n - 1}}$. However, this is a very weak bound as $p_{10} = 29$ and $2^{2^9} = 2^{512}$.

<Theorem>
    <TheoremContent>
        Given $N \geq 2$, we can find $N$ consecutive composite numbers.
    </TheoremContent>
</Theorem>
<Proof>
    <ProofContent>
        Consider the following numbers
        - $(N+1)! + 2$
        - $(N+1)! + 3$
        - $\cdots$
        - $(N+1)! + N + 1$

        Note that $2 \mid (N+1)! + 2$, $3 \mid (N+1)! + 3$, $\ldots$, $N+1 \mid (N+1)! + N + 1$. Thus, all of these numbers are composite. So we have a sequence of $N$ consecutive composite numbers.
    </ProofContent>
</Proof>
In fact, it was proven that there are infinitely many primes with composite gaps of $\leq 246$ million.

Now, let's get back to another proof of the infinitude of primes.
<Proof withName={true}>
    <ProofName>$\infty$ many primes by Euler</ProofName>
    <ProofContent>
        The key to this proof is the following. Recall that by the geometric series,
        $$
        \frac{1}{1 - \frac{1}{p}} = \sum_{k \geq 0} \left(\frac{1}{p}\right)^k
        $$
        So
        $$
        \begin{align*}
            \frac{1}{1 - \frac{1}{2}} \cdot \frac{1}{1 - \frac{1}{3}} &= \left(\sum_{k \geq 0} \left(\frac{1}{2}\right)^k\right)\left(\sum_{k \geq 0} \left(\frac{1}{3}\right)^k\right) \\
            &= \sum_{a, b \geq 0} \frac{1}{2^a 3^b}
        \end{align*}
        $$
        And similarly, we have
        $$
        \frac{1}{1 - \frac{1}{2}} \cdot \frac{1}{1 - \frac{1}{3}} \cdot \frac{1}{1 - \frac{1}{5}} = \sum_{a,b,c\geq 0} \frac{1}{2^a 3^b 5^c}
        $$
        and so on. Now, suppose $p_1,\ldots,p_k$ are all the primes. Then we have
        $$
        \begin{align*}
            \prod^k_{i=1} \frac{1}{1 - \frac{1}{p_i}} &= \sum_{a_1,\ldots,a_k \geq 0} \frac{1}{p_1^{a_1} \cdots p_k^{a_k}} \\
            &= \sum_{n \geq 1} \frac{1}{n}
        \end{align*}
        $$
        where the last equality is due to the Fundamental Theorem of Arithmetic (every integer can be written as a product of primes). However, the sum on the right diverges, while the product on the left is finite. This is a contradiction, so there must be infinitely many primes.
    </ProofContent>
</Proof>

## Lecture 7 (May 21, 2024)
### Generating Primes
We will present an algorithm for generating primes. The algorithm is called the **Sieve of Eratosthenes**. This is a slow algorithm, but it is simple to do by hand. Suppose that we want primes that are $\leq 40$. We can list out all integers from 2 to 40, then do the following:
1. Cross out all multiples of 2, except for 2.
2. Cross out all multiples of 3, except for 3.
3. Cross out all multiples of 5, except for 5.

We get the following list:
$$
\begin{array}{ccccccccccccc}
\textcolor{green}{2} & \textcolor{green}{3} & \textcolor{red}{4} & \textcolor{green}{5} & \textcolor{red}{6} & 7 & \textcolor{red}{8} & \textcolor{red}{9} & \textcolor{red}{10} & 11 & \textcolor{red}{12} & 13 & \textcolor{red}{14} \\
\textcolor{red}{15} & \textcolor{red}{16} & 17 & \textcolor{red}{18} & 19 & \textcolor{red}{20} & \textcolor{red}{21} & \textcolor{red}{22} & 23 & \textcolor{red}{24} & \textcolor{red}{25} & \textcolor{red}{26} & \textcolor{red}{27} \\
\textcolor{red}{28} & 29 & \textcolor{red}{30} & 31 & \textcolor{red}{32} & \textcolor{red}{33} & \textcolor{red}{34} & \textcolor{red}{35} & \textcolor{red}{36} & 37 & \textcolor{red}{38} & \textcolor{red}{39} & \textcolor{red}{40}
\end{array}
$$
Then the numbers that are black or green are primes.

<Proposition>
    <PropositionContent>
        If $n > 1$ is composite, then it has prime divisors $p$ such that $p \leq \lfloor \sqrt{n} \rfloor$.
    </PropositionContent>
</Proposition>
<Proof>
    <ProofContent>
        Suppose $n$ is composite, then we can write $n = ab$, where $a,b > 1$. Suppose for contradiction that both $a, b > \sqrt{n}$. Then $ab > \sqrt{n} \cdot \sqrt{n} = n$, so we have $n > n$, which is a contradiction. Therefore, at least one of $a$ and $b$ is $\leq \sqrt n$. Thus, a prime divisor of either $a$ or $b$ is $\leq \sqrt n$.
    </ProofContent>
</Proof>
So, we have a primality test.
<Corollary withName={true}>
    <CorollaryName>Simple Primality Test</CorollaryName>
    <CorollaryContent>
        If $n$ is not divisible by any prime $p \leq \lfloor \sqrt n \rfloor$, then it must be prime.
    </CorollaryContent>
</Corollary>
Thus, for our example, if $1 < n \leq 40$, then either $n$ is prime or else $n$ has divisor $p \leq \sqrt{40} \floor = 6$. So all composites $\leq 40$ have divisor $p$ with $p = 2, 3$ or $5$.

Now, for a prime $p$, we can write it as
- $p = 4q + 1$
- $p = 4q + 2$ (only if $p = 2$, since if $p \neq 2$, then $p = 4q + 2$, which is even and thus is not prime)
- $p = 4q + 3$

Since there are infinitely many primes, do we have infinitely many primes of the form $4q + 1$ or $4q + 3$? Turns out that there are infintely many primes of both forms.
<Theorem>
    <TheoremContent>
        There are infinitely many primes of the form $4q + 3$.
    </TheoremContent>
</Theorem>
<Proof>
    <ProofContent>
        Suppose there are only finitely many primes of the form $4q + 3$, say $\underbrace{p_1}_{3},\ldots, p_k$. Consider the number
        $$
        N = 4p_2p_3\ldots p_k + 3
        $$
        We have the following observations:
        - $N$ is odd, so $2 \nmid N$.
        - $p_2,\ldots,p_k \nmid N$, since it leaves a remainder of 3.
        - $3 \nmid N$ since $3 \nmid 4p_2\ldots p_k$.

        Then, since all integers are either $4q + 1, 4q + 2, 4q + 3$, and we have that all primes of the form $4q + 3$ does not divide $N$, and all primes of the form $4q + 2$ (which is only the number 2) does not divide $N$, then the only prime divisors that divide $N$ have the form $4q + 1$.

        So, we can write $N = q_1^{a_1} \cdots q_r^{a_r}$, where $q_i = 4q + 1$. So $N$ is a product of numbers of the form $4q + 1$. However, the product of numbers of the form $4q + 1$ are also of the form $4q + 1$. This is because
        $$
        \begin{align*}
            (4k + 1)(4 \ell + 1) &= 16k\ell + 4k + 4\ell + 1 \\
            &= 4(4k\ell + k + \ell) + 1
        \end{align*}
        $$
        So $N$ must be of the form $4q + 1$, but $N$ is of the form $4q + 3$. Contradiction.
    </ProofContent>
</Proof>
<Theorem>
    <TheoremContent>
        There are infinitely many primes of the form $4q + 1$.
    </TheoremContent>
</Theorem>
The proof of this is tricky, so we will come back to it later in the course.

Turns out that we have the following theorem:
<Theorem withName={true}>
    <TheoremName>Dirichlet's Theorem on Primes in Arithmetic Progression</TheoremName>
    <TheoremContent>
        If $a, b$ are coprime, then there are infinitely many primes of the form $aq + b$.
    </TheoremContent>
</Theorem>

Here is another question: how many primes are there which are $\leq x$? Let's first introduce some notation.
<Definition>
    <DefinitionName>Prime Counting</DefinitionName>
    <DefinitionContent>
        Let $x \in \mathbb R > 0$. Then $\pi(x)$ is the number of primes $\leq x$.
    </DefinitionContent>
</Definition>
For example, $\pi(10) = \# \{2, 3, 5, 7\} = 4$ and $\pi(23.23) = \pi(23) = 9$.

The graph of $\pi(x)$ is a step function, and since there are infinitely many primes, $\pi(x) \to \infty$ as $x \to \infty$.

![Graph of $\pi(x)$](/images/school/spring-2024/pmath340/7-1.png)

There is no nice formula for $\pi(x)$, but can we estimate it?
<Proposition>
    <PropositionContent>
        $\pi(x) \geq \log(\log(x))$
    </PropositionContent>
</Proposition>
<Callout type="info" emoji="ℹ️">
  In this course $\log = \log_e = \ln$.
</Callout>
However, this is a pretty bad bound, since $x = 10^6$ gives $\pi(x) \geq \log(\log(10^6)) \approx 2.3$.

Can we do better? Gauss and Legendre conjectured that
$$
\begin{align*}
    \pi(x) &\sim \frac{x}{\log x} \\
    \pi(x) &\sim L_i(x) := \int^x_2 \frac{dt}{\log t}
\end{align*}
$$
In fact, these two equations are equivalent since $\frac{x}{\log x} \sim L_i(x)$.
<Callout type="info" emoji="ℹ️">
  $f(x) \sim g(x)$ means $\lim_{x \to \infty} \frac{f(x)}{g(x)} = 1$.
</Callout>
## Lecture 8 (May 22, 2024)

## Lecture 9 (May 24, 2024)